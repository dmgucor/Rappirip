package guis;

import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Image;
import java.awt.Insets;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JPasswordField;
import javax.swing.JTextField;
import javax.swing.SpringLayout;
import javax.swing.text.AbstractDocument;

import extras.LimitDocumentFilter;
import extras.SpringUtilities;

public class LoginGUI {
	JFrame frame;
	String[] labels = {"Username: ", "Passsword: "};
	GridBagConstraints constraints = new GridBagConstraints();

	public LoginGUI() {
		//Configuración de la ventana
		frame = new JFrame();
		frame.setBounds(500, 500, 200, 500);
		frame.setResizable(false);
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frame.setLayout(new GridBagLayout());

		setLogo(frame);
		setFormaInicio(frame);
		setBotonIniciar(frame);

		
		frame.setVisible(true);
		frame.pack();
	}

	//Imagen con el logo
	public void setLogo(JFrame frame) {
		JLabel picLogo = new JLabel();
		picLogo.setIcon(new ImageIcon(new javax.swing.ImageIcon(getClass().getResource("/logo.png")).getImage().getScaledInstance(357-150, 234-100, Image.SCALE_SMOOTH)));

		constraints.gridx = 0;
		constraints.gridy = 0;
		constraints.insets = new Insets(50, 50, 30, 50);

		frame.add(picLogo, constraints);


	}

	//Botón para iniciar sesión
	public void setBotonIniciar(JFrame frame) {
		JButton iniciarSesion = new JButton();
		constraints.gridx = 0;
		constraints.gridy = 2;

		frame.add(iniciarSesion, constraints);
	}

	//Forma para iniciar sesión
	public void setFormaInicio(JFrame frame) {
		//Panel que contiene la forma
		JPanel panel = new JPanel(new SpringLayout());

		//Agregar labels y configurar textFields
		JLabel username = new JLabel(labels[0], JLabel.TRAILING);
		panel.add(username);
		JTextField usernameField = new JTextField(15);
		((AbstractDocument)usernameField.getDocument()).setDocumentFilter(new LimitDocumentFilter(25));
		username.setLabelFor(usernameField);
		panel.add(usernameField);

		JLabel password = new JLabel(labels[1], JLabel.TRAILING);
		panel.add(password);
		JPasswordField passwordField = new JPasswordField(15);
		((AbstractDocument)passwordField.getDocument()).setDocumentFilter(new LimitDocumentFilter(20));
		password.setLabelFor(passwordField);
		panel.add(passwordField);

		SpringUtilities.makeCompactGrid(panel,
				labels.length, 2, //rows, cols
				6, 6,        //initX, initY
				6, 6); 		//xPad, yPad

		//Constraints para el panel con la forma
		constraints.gridy = 1;
		
		frame.add(panel, constraints);
	}



}
