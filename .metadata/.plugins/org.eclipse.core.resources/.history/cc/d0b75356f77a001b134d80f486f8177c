package guis;

import java.awt.GridLayout;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;

import javax.imageio.ImageIO;
import javax.swing.BoxLayout;
import javax.swing.ImageIcon;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JPasswordField;
import javax.swing.JTextField;
import javax.swing.SpringLayout;
import javax.swing.SwingConstants;
import javax.swing.text.AbstractDocument;

import extras.LimitDocumentFilter;
import extras.SpringUtilities;

public class LoginGUI {
	JFrame frame;
	String[] labels = {"Username: ", "Passsword: "};

	public LoginGUI() {
		//Configuración de la ventana
		frame = new JFrame();
		frame.setBounds(500, 500, 200, 500);
		frame.setResizable(false);
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frame.setLayout(new BoxLayout(frame, BoxLayout.Y_AXIS));
		
		//Imagen con el logo
		JLabel picLogo = new JLabel();
		try {
			BufferedImage logoImg = ImageIO.read(new File(getClass().getResource("/logo.png").getFile()));
			picLogo = new JLabel(new ImageIcon(logoImg));
		} catch (IOException e) {
			e.printStackTrace();
		}
		
		// ponerla en el norte y el otro panel al centro o al sur, buscar layout que sea vertical
		frame.add(picLogo);
		
		//Panel que contiene la forma
		JPanel panel = new JPanel(new SpringLayout());
		
		//Agregar labels y configurar textFields
		JLabel username = new JLabel(labels[0], JLabel.TRAILING);
		panel.add(username);
		JTextField usernameField = new JTextField(15);
		((AbstractDocument)usernameField.getDocument()).setDocumentFilter(new LimitDocumentFilter(25));
		username.setLabelFor(usernameField);
		panel.add(usernameField);

		JLabel password = new JLabel(labels[1], JLabel.TRAILING);
		panel.add(password);
		JPasswordField passwordField = new JPasswordField(15);
		((AbstractDocument)passwordField.getDocument()).setDocumentFilter(new LimitDocumentFilter(20));
		password.setLabelFor(passwordField);
		panel.add(passwordField);

		SpringUtilities.makeCompactGrid(panel,
				labels.length, 2, //rows, cols
				6, 6,        //initX, initY
				6, 6); 		//xPad, yPad
		
		//Agregar panel a la ventana
		frame.add(panel);
		frame.setVisible(true);
		frame.pack();
	}
}
